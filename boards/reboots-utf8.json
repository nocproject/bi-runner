{
  "layoutId": "580e1ba498601c0f96b7e809",
  "layout": {
    "uuid": "f2736f99-a568-4820-b746-1e71d48b4374",
    "cells": [
      {
        "md": 6,
        "name": "c11",
        "lg": null,
        "height": 200,
        "sm": null,
        "xs": null,
        "row": 0
      },
      {
        "md": 6,
        "name": "c12",
        "lg": null,
        "height": 200,
        "sm": null,
        "xs": null,
        "row": 0
      },
      {
        "md": 6,
        "name": "c21",
        "lg": null,
        "height": 200,
        "sm": null,
        "xs": null,
        "row": 1
      },
      {
        "md": 6,
        "name": "c22",
        "lg": null,
        "height": 200,
        "sm": null,
        "xs": null,
        "row": 1
      },
      {
        "md": 12,
        "name": "table1",
        "lg": null,
        "height": 360,
        "sm": null,
        "xs": null,
        "row": 4
      }
    ],
    "description": "",
    "fav_status": false,
    "is_builtin": false,
    "id": "580e1ba498601c0f96b7e809",
    "name": "c2x2"
  },
  "description": "\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u043f\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u043c",
  "title": "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",
  "format": 1,
  "filter": {
    "startDate": {
      "values": [
        "2016-12-31T22:00:00.000Z",
        "2017-12-31T22:59:59.000Z"
      ],
      "type": "DateTime",
      "condition": "interval"
    }
  },
  "export": {
    "params": [
      {
        "fields": [
          {
            "alias": "date",
            "expr": "date",
            "group": 0,
            "format": "dateToString"
          },
          {
            "alias": "qty",
            "desc": true,
            "expr": "count()",
            "order": 0,
            "label": "\u041a\u043e\u043b-\u0432\u043e"
          },
          {
            "expr": {
              "$lookup": [
                "pool",
                {
                  "$field": "pool"
                }
              ]
            },
            "alias": "pool_text"
          },
          {
            "expr": "pool",
            "hide": "yes",
            "group": 1
          }
        ],
        "datasource": "reboots"
      }
    ],
    "id": 0,
    "method": "query"
  },
  "datasource": "reboots",
  "filter_fields": [
    {
      "group": 2,
      "name": "administrative_domain"
    },
    {
      "group": 1,
      "name": "container"
    },
    {
      "group": 1,
      "name": "ip"
    },
    {
      "group": 1,
      "name": "managed_object"
    },
    {
      "group": 1,
      "name": "platform"
    },
    {
      "group": 1,
      "name": "profile"
    },
    {
      "group": 1,
      "name": "segment"
    },
    {
      "group": 0,
      "name": "ts"
    },
    {
      "group": 1,
      "name": "vendor"
    },
    {
      "group": 1,
      "name": "version"
    },
    {
      "group": 3,
      "name": "x"
    },
    {
      "group": 3,
      "name": "y"
    },
    {
      "group": 0,
      "name": "ts"
    },
    {
      "group": 2,
      "name": "pool"
    },
    {
      "group": 0,
      "name": "date"
    }
  ],
  "widgets": [
    {
      "cell": "c11",
      "note": "\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",
      "title": "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043e\u043a \u0432 \u0434\u0435\u043d\u044c",
      "type": "lineChart",
      "query": {
        "params": [
          {
            "filter": {
              "$and": [
                {
                  "$between": [
                    {
                      "$field": "ts"
                    },
                    {
                      "$field": "toDateTime('2017-01-01T01:00:00')"
                    },
                    {
                      "$field": "toDateTime('2018-01-01T01:59:59')"
                    }
                  ]
                }
              ]
            },
            "fields": [
              {
                "expr": "date",
                "group": 0,
                "order": 0,
                "desc": true
              },
              {
                "expr": "count()",
                "alias": "cnt"
              }
            ],
            "datasource": "reboots"
          }
        ],
        "id": 0,
        "method": "query"
      }
    },
    {
      "cell": "c12",
      "note": "\u043f\u043e \u0434\u043d\u044e \u043d\u0435\u0434\u0435\u043b\u0438",
      "title": "\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0434\u043d\u044e \u043d\u0435\u0434\u0435\u043b\u0438",
      "type": "rowChart",
      "query": {
        "params": [
          {
            "filter": {
              "$and": [
                {
                  "$between": [
                    {
                      "$field": "ts"
                    },
                    {
                      "$field": "toDateTime('2017-01-01T01:00:00')"
                    },
                    {
                      "$field": "toDateTime('2018-01-01T01:59:59')"
                    }
                  ]
                }
              ]
            },
            "fields": [
              {
                "expr": "toDayOfWeek(date)",
                "alias": "day",
                "group": 0,
                "order": 0,
                "desc": true
              },
              {
                "expr": "count()",
                "alias": "cnt"
              }
            ],
            "datasource": "reboots"
          }
        ],
        "id": 0,
        "method": "query"
      }
    },
    {
      "cell": "c21",
      "note": "\u043f\u043e \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0443 \u0441\u0435\u0442\u0438",
      "title": "\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0443 \u0441\u0435\u0442\u0438, \u0442\u043e\u043f 10",
      "type": "pieChart",
      "query": {
        "params": [
          {
            "filter": {
              "$and": [
                {
                  "$between": [
                    {
                      "$field": "ts"
                    },
                    {
                      "$field": "toDateTime('2017-01-01T01:00:00')"
                    },
                    {
                      "$field": "toDateTime('2018-01-01T01:59:59')"
                    }
                  ]
                }
              ]
            },
            "fields": [
              {
                "expr": "segment",
                "group": 0
              },
              {
                "expr": {
                  "$lookup": [
                    "networksegment",
                    {
                      "$field": "segment"
                    }
                  ]
                },
                "group": 1,
                "alias": "name"
              },
              {
                "expr": "count()",
                "alias": "cnt",
                "order": 0,
                "desc": true
              }
            ],
            "limit": 10,
            "datasource": "reboots"
          }
        ],
        "id": 0,
        "method": "query"
      }
    },
    {
      "cell": "c22",
      "note": "\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",
      "title": "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0447\u0430\u0441\u0430",
      "type": "barChart",
      "query": {
        "params": [
          {
            "filter": {
              "$and": [
                {
                  "$between": [
                    {
                      "$field": "ts"
                    },
                    {
                      "$field": "toDateTime('2017-01-01T01:00:00')"
                    },
                    {
                      "$field": "toDateTime('2018-01-01T01:59:59')"
                    }
                  ]
                }
              ]
            },
            "fields": [
              {
                "expr": "toHour(ts)",
                "alias": "hour",
                "group": 0,
                "order": 0,
                "desc": true
              },
              {
                "expr": "count()",
                "alias": "cnt"
              },
              {
                "expr": "toHour(ts)",
                "group": 1,
                "alias": "name"
              }
            ],
            "datasource": "reboots"
          }
        ],
        "id": 0,
        "method": "query"
      }
    },
    {
      "cell": "table1",
      "note": "\u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",
      "title": "\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043e\u043a, \u0442\u043e\u043f 10",
      "type": "dataTable",
      "query": {
        "params": [
          {
            "filter": {
              "$and": [
                {
                  "$between": [
                    {
                      "$field": "ts"
                    },
                    {
                      "$field": "toDateTime('2017-01-01T01:00:00')"
                    },
                    {
                      "$field": "toDateTime('2018-01-01T01:59:59')"
                    }
                  ]
                }
              ]
            },
            "fields": [
              {
                "alias": "date",
                "expr": "date",
                "label": "\u0414\u0430\u0442\u0430",
                "group": 0,
                "format": "dateToString"
              },
              {
                "expr": "managed_object",
                "group": 1
              },
              {
                "expr": "administrative_domain",
                "group": 2
              },
              {
                "expr": "segment",
                "group": 3
              },
              {
                "expr": {
                  "$lookup": [
                    "managedobject",
                    {
                      "$field": "managed_object"
                    }
                  ]
                },
                "alias": "name",
                "label": "\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"
              },
              {
                "expr": {
                  "$lookup": [
                    "networksegment",
                    {
                      "$field": "segment"
                    }
                  ]
                },
                "alias": "segment_name",
                "label": "\u0421\u0435\u0433\u043c\u0435\u043d\u0442 \u0441\u0435\u0442\u0438"
              },
              {
                "alias": "qty",
                "desc": true,
                "expr": "count()",
                "order": 0,
                "label": "\u041a\u043e\u043b-\u0432\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043e\u043a"
              }
            ],
            "limit": 10,
            "datasource": "reboots"
          }
        ],
        "id": 0,
        "method": "query"
      }
    }
  ],
  "agv_fields": [
    {
      "group": 2,
      "name": "administrative_domain",
      "description": "\u0417.\u041e."
    },
    {
      "group": 1,
      "name": "container",
      "description": "\u0410\u0434\u0440\u0435\u0441"
    },
    {
      "group": 1,
      "name": "ip",
      "description": "IP \u0430\u0434\u0440\u0435\u0441"
    },
    {
      "group": 1,
      "name": "managed_object",
      "description": "\u0418\u043c\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430"
    },
    {
      "group": 1,
      "name": "platform",
      "description": "\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"
    },
    {
      "group": 1,
      "name": "profile",
      "description": "\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u0430"
    },
    {
      "group": 1,
      "name": "segment",
      "description": "\u0421\u0435\u0433\u043c\u0435\u043d\u0442 \u0441\u0435\u0442\u0438"
    },
    {
      "group": 1,
      "name": "vendor",
      "description": "\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"
    },
    {
      "group": 1,
      "name": "version",
      "description": "\u0412\u0435\u0440\u0441\u0438\u044f"
    },
    {
      "group": 2,
      "name": "pool",
      "description": "\u0418\u043c\u044f \u043f\u0443\u043b\u0430"
    },
    {
      "group": 0,
      "name": "date",
      "description": "\u0414\u0430\u0442\u0430"
    },
    {
      "group": 0,
      "name": "ts",
      "description": "\u0421\u043e\u0437\u0434\u0430\u043d\u043e"
    }
  ],
  "id": "58a1f84698601c7325c062da"
}