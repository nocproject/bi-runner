{
  "id": 0,
  "error": null,
  "result": {
    "layoutId": "580e1ba498601c0f96b7e809",
    "pseudo_fields": [],
    "layout": {
      "uuid": "f2736f99-a568-4820-b746-1e71d48b4374",
      "cells": [
        {
          "md": 6,
          "row": 0,
          "name": "c11",
          "height": 200
        },
        {
          "md": 6,
          "row": 0,
          "name": "c12",
          "height": 200
        },
        {
          "md": 6,
          "row": 1,
          "name": "c21",
          "height": 200
        },
        {
          "md": 6,
          "row": 1,
          "name": "c22",
          "height": 200
        },
        {
          "md": 12,
          "row": 4,
          "name": "table1",
          "height": 360
        }
      ],
      "description": "",
      "name": "c2x2",
      "id": "580e1ba498601c0f96b7e809"
    },
    "description": "\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u043f\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u043c",
    "format": 2,
    "title": "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 v2",
    "sample": 1,
    "agv_fields": [
      {
        "group": 2,
        "name": "administrative_domain",
        "description": "\u0417.\u041e.",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "container",
        "description": "\u0410\u0434\u0440\u0435\u0441",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "ip",
        "description": "IP \u0430\u0434\u0440\u0435\u0441",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "managed_object",
        "description": "\u0418\u043c\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "platform",
        "description": "\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "profile",
        "description": "\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u0430",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "segment",
        "description": "\u0421\u0435\u0433\u043c\u0435\u043d\u0442 \u0441\u0435\u0442\u0438",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "vendor",
        "description": "\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 1,
        "name": "version",
        "description": "\u0412\u0435\u0440\u0441\u0438\u044f",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 2,
        "name": "pool",
        "description": "\u0418\u043c\u044f \u043f\u0443\u043b\u0430",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 0,
        "name": "date",
        "description": "\u0414\u0430\u0442\u0430",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      },
      {
        "group": 0,
        "name": "ts",
        "description": "\u0421\u043e\u0437\u0434\u0430\u043d\u043e",
        "grouped": false,
        "isSelectable": true,
        "isGrouping": true
      }
    ],
    "datasource": "reboots",
    "groups": [
      {
        "active": true,
        "filters": [
          {
            "values": [
              {
                "value": "ld"
              }
            ],
            "condition": "interval",
            "type": "DateTime",
            "name": "ts",
            "association": "$and"
          }
        ],
        "association": "$and",
        "name": "startEnd"
      },
      {
        "active": false,
        "filters": [
          {
            "name": "ts",
            "pseudo": false,
            "values": [
              {
                "value": "2017-10-18T21:00:00.000Z"
              },
              {
                "value": "2017-10-19T20:59:00.000Z"
              }
            ],
            "association": "$and",
            "type": "DateTime",
            "condition": "interval"
          }
        ],
        "name": "form",
        "association": "$and"
      }
    ],
    "filter_fields": [
      {
        "grouped": false,
        "isSelectable": true,
        "name": "administrative_domain",
        "group": 2,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "container",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "ip",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "managed_object",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "platform",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "profile",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "segment",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "ts",
        "group": 0,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "vendor",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "version",
        "group": 1,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "x",
        "group": 3,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "y",
        "group": 3,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "pool",
        "group": 2,
        "isGrouping": true
      },
      {
        "grouped": false,
        "isSelectable": true,
        "name": "date",
        "group": 0,
        "isGrouping": true
      }
    ],
    "widgets": [
      {
        "cell": "c11",
        "note": "\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",
        "title": "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043e\u043a \u0432 \u0434\u0435\u043d\u044c",
        "type": "lineChart",
        "query": {
          "params": [
            {
              "filter": {
                "$and": [
                  {
                    "$and": [
                      {
                        "$between": [
                          {
                            "$field": "ts"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T00:00:00')"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T23:59:59')"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "fields": [
                {
                  "group": 0,
                  "isGrouping": true,
                  "expr": "date",
                  "grouped": false,
                  "isSelectable": true,
                  "order": 0,
                  "desc": true
                },
                {
                  "expr": "count()",
                  "grouped": false,
                  "isSelectable": true,
                  "isGrouping": true,
                  "alias": "cnt"
                }
              ],
              "datasource": "reboots"
            }
          ],
          "id": 0,
          "method": "query"
        }
      },
      {
        "cell": "c12",
        "note": "\u043f\u043e \u0434\u043d\u044e \u043d\u0435\u0434\u0435\u043b\u0438",
        "title": "\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0434\u043d\u044e \u043d\u0435\u0434\u0435\u043b\u0438",
        "type": "rowChart",
        "query": {
          "params": [
            {
              "filter": {
                "$and": [
                  {
                    "$and": [
                      {
                        "$between": [
                          {
                            "$field": "ts"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T00:00:00')"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T23:59:59')"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "fields": [
                {
                  "group": 0,
                  "isGrouping": true,
                  "grouped": false,
                  "expr": "toDayOfWeek(date)",
                  "alias": "day",
                  "isSelectable": true,
                  "order": 0,
                  "desc": true
                },
                {
                  "expr": "count()",
                  "grouped": false,
                  "isSelectable": true,
                  "isGrouping": true,
                  "alias": "cnt"
                }
              ],
              "datasource": "reboots"
            }
          ],
          "id": 0,
          "method": "query"
        }
      },
      {
        "cell": "c21",
        "note": "\u043f\u043e \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0443 \u0441\u0435\u0442\u0438",
        "title": "\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0443 \u0441\u0435\u0442\u0438, \u0442\u043e\u043f 10",
        "type": "pieChart",
        "query": {
          "params": [
            {
              "filter": {
                "$and": [
                  {
                    "$and": [
                      {
                        "$between": [
                          {
                            "$field": "ts"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T00:00:00')"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T23:59:59')"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "fields": [
                {
                  "expr": "segment",
                  "group": 0,
                  "isGrouping": true,
                  "isSelectable": true,
                  "grouped": false
                },
                {
                  "group": 1,
                  "isGrouping": true,
                  "alias": "name",
                  "expr": {
                    "$lookup": [
                      "networksegment",
                      {
                        "$field": "segment"
                      }
                    ],
                    "__type": "Expression"
                  },
                  "grouped": false,
                  "isSelectable": true
                },
                {
                  "isGrouping": true,
                  "grouped": false,
                  "expr": "count()",
                  "alias": "cnt",
                  "isSelectable": true,
                  "order": 0,
                  "desc": true
                }
              ],
              "limit": 10,
              "datasource": "reboots"
            }
          ],
          "id": 0,
          "method": "query"
        }
      },
      {
        "cell": "c22",
        "note": "\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",
        "title": "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0447\u0430\u0441\u0430",
        "type": "barChart",
        "query": {
          "params": [
            {
              "filter": {
                "$and": [
                  {
                    "$and": [
                      {
                        "$between": [
                          {
                            "$field": "ts"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T00:00:00')"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T23:59:59')"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "fields": [
                {
                  "group": 0,
                  "isGrouping": true,
                  "grouped": false,
                  "expr": "toHour(ts)",
                  "alias": "hour",
                  "isSelectable": true,
                  "order": 0,
                  "desc": true
                },
                {
                  "expr": "count()",
                  "grouped": false,
                  "isSelectable": true,
                  "isGrouping": true,
                  "alias": "cnt"
                },
                {
                  "group": 1,
                  "isGrouping": true,
                  "alias": "name",
                  "expr": "toHour(ts)",
                  "grouped": false,
                  "isSelectable": true
                }
              ],
              "datasource": "reboots"
            }
          ],
          "id": 0,
          "method": "query"
        }
      },
      {
        "cell": "table1",
        "note": "\u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",
        "title": "\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043e\u043a, \u0442\u043e\u043f 10",
        "type": "dataTable",
        "query": {
          "params": [
            {
              "filter": {
                "$and": [
                  {
                    "$and": [
                      {
                        "$between": [
                          {
                            "$field": "ts"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T00:00:00')"
                          },
                          {
                            "$field": "toDateTime('2017-11-02T23:59:59')"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "fields": [
                {
                  "group": 0,
                  "isGrouping": true,
                  "format": "dateToString",
                  "expr": "date",
                  "label": "\u0414\u0430\u0442\u0430",
                  "grouped": false,
                  "alias": "date",
                  "isSelectable": true
                },
                {
                  "expr": "managed_object",
                  "group": 1,
                  "isGrouping": true,
                  "isSelectable": true,
                  "grouped": false
                },
                {
                  "expr": "administrative_domain",
                  "group": 2,
                  "isGrouping": true,
                  "isSelectable": true,
                  "grouped": false
                },
                {
                  "expr": "segment",
                  "group": 3,
                  "isGrouping": true,
                  "isSelectable": true,
                  "grouped": false
                },
                {
                  "isGrouping": true,
                  "grouped": false,
                  "expr": {
                    "$lookup": [
                      "managedobject",
                      {
                        "$field": "managed_object"
                      }
                    ],
                    "__type": "Expression"
                  },
                  "label": "\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",
                  "alias": "name",
                  "isSelectable": true
                },
                {
                  "isGrouping": true,
                  "grouped": false,
                  "expr": {
                    "$lookup": [
                      "networksegment",
                      {
                        "$field": "segment"
                      }
                    ],
                    "__type": "Expression"
                  },
                  "label": "\u0421\u0435\u0433\u043c\u0435\u043d\u0442 \u0441\u0435\u0442\u0438",
                  "alias": "segment_name",
                  "isSelectable": true
                },
                {
                  "isGrouping": true,
                  "grouped": false,
                  "expr": "count()",
                  "label": "\u041a\u043e\u043b-\u0432\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043e\u043a",
                  "alias": "qty",
                  "isSelectable": true,
                  "order": 0,
                  "desc": true
                }
              ],
              "limit": 10,
              "datasource": "reboots"
            }
          ],
          "id": 0,
          "method": "query"
        }
      }
    ],
    "export": {
      "params": [
        {
          "fields": [
            {
              "group": 0,
              "isGrouping": true,
              "format": "dateToString",
              "expr": "date",
              "label": "\u0414\u0430\u0442\u0430",
              "grouped": false,
              "alias": "date",
              "isSelectable": true
            },
            {
              "isGrouping": true,
              "grouped": false,
              "expr": "count()",
              "label": "\u041a\u043e\u043b-\u0432\u043e",
              "alias": "qty",
              "isSelectable": true,
              "order": 0,
              "desc": true
            }
          ],
          "datasource": "reboots"
        }
      ],
      "id": 0,
      "method": "query"
    },
    "isSample": false,
    "id": "59e9b6b7c165cf607b9383e6"
  }
}
